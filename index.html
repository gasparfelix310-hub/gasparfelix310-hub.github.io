<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Cadastro de Bolas de Vôlei</title>

    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f2f6ff;
            padding: 20px;
        }

        h1, h2 {
            text-align: center;
            color: #0033a0;
        }

        .container {
            max-width: 600px;
            margin: auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
        }

        label {
            font-weight: bold;
        }

        input, select {
            width: 100%;
            padding: 8px;
            margin: 5px 0 15px 0;
        }

        button {
            padding: 8px 12px;
            margin: 5px;
            border: none;
            cursor: pointer;
            border-radius: 5px;
        }

        .btn-enviar {
            background-color: #0033a0;
            color: white;
            width: 100%;
        }

        .btn-editar {
            background-color: orange;
            color: white;
        }

        .btn-excluir {
            background-color: red;
            color: white;
        }

        .btn-importar, .btn-exportar {
            background-color: green;
            color: white;
        }

        ul {
            list-style: none;
            padding: 0;
        }

        li {
            background: #e6eeff;
            padding: 10px;
            margin-bottom: 8px;
            border-radius: 5px;
        }
    </style>
</head>

<body>

<div class="container">

    <h1>Ficha – Bola de Vôlei</h1>


    <form id="formulario">
        <label>Marca da Bola:</label>
        <input type="text" id="marca" required>

        <label>Tamanho:</label>
        <select id="tamanho">
            <option>Oficial</option>
            <option>Juvenil</option>
        </select>

        <label>Peso (g):</label>
        <input type="number" id="peso" required>

        <label>Material:</label>
        <input type="text" id="material">

        <label>Cor Predominante:</label>
        <input type="text" id="cor">

        <button type="submit" class="btn-enviar">Salvar</button>
    </form>

    <h2>Lista de Bolas</h2>

    
    <button class="btn-importar" onclick="importarCSV()">Importar</button>
    <button class="btn-exportar" onclick="exportarCSV()">Exportar</button>

    
    <ul id="lista"></ul>

    <input type="file" id="arquivo" style="display:none">

</div>


<script>
    let bolas = [];
    let editando = null;

    const formulario = document.getElementById("formulario");
    const lista = document.getElementById("lista");

    
    formulario.addEventListener("submit", function(e) {
        e.preventDefault();

        const bola = {
            marca: marca.value,
            tamanho: tamanho.value,
            peso: peso.value,
            material: material.value,
            cor: cor.value
        };

        if (editando === null) {
            bolas.push(bola);
        } else {
            bolas[editando] = bola;
            editando = null;
        }

        formulario.reset();
        renderizar();
    });

    
    function renderizar() {
        lista.innerHTML = "";

        bolas.forEach((bola, index) => {
            const li = document.createElement("li");
            li.innerHTML = `
                <strong>${bola.marca}</strong> - ${bola.tamanho} - ${bola.peso}g<br>
                ${bola.material} | ${bola.cor}<br>
                <button class="btn-editar" onclick="editar(${index})">Editar</button>
                <button class="btn-excluir" onclick="excluir(${index})">Excluir</button>
            `;
            lista.appendChild(li);
        });
    }


    function editar(index) {
        const bola = bolas[index];
        marca.value = bola.marca;
        tamanho.value = bola.tamanho;
        peso.value = bola.peso;
        material.value = bola.material;
        cor.value = bola.cor;
        editando = index;
    }

    
    function excluir(index) {
        bolas.splice(index, 1);
        renderizar();
    }

    
    function exportarCSV() {
        let csv = "Marca,Tamanho,Peso,Material,Cor\n";
        bolas.forEach(b => {
            csv += `${b.marca},${b.tamanho},${b.peso},${b.material},${b.cor}\n`;
        });

        const blob = new Blob([csv], { type: "text/csv" });
        const a = document.createElement("a");
        a.href = URL.createObjectURL(blob);
        a.download = "bolas_volei.csv";
        a.click();
    }

    
    function importarCSV() {
        document.getElementById("arquivo").click();
    }

    document.getElementById("arquivo").addEventListener("change", function(e) {
        const file = e.target.files[0];
        const reader = new FileReader();

        reader.onload = function() {
            const linhas = reader.result.split("\n");
            bolas = [];

            for (let i = 1; i < linhas.length; i++) {
                const dados = linhas[i].split(",");
                if (dados.length >= 5) {
                    bolas.push({
                        marca: dados[0],
                        tamanho: dados[1],
                        peso: dados[2],
                        material: dados[3],
                        cor: dados[4]
                    });
                }
            }
            renderizar();
        };
        reader.readAsText(file);
    });
</script>

</body>
</html>